<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>Pure Bash Cat ← Machinae Elegantiam</title>
	<meta name="author" content="Russell Harmon"/>

	

	<link rel="stylesheet" href="/css/reset.css" type="text/css"/>
	<link rel="stylesheet" href="/css/screen.css" type="text/css"/>
	<link rel="stylesheet" href="/css/960.css" type="text/css"/>
	<link rel="stylesheet" href="/css/syntax.css" type="text/css"/>

	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Walter+Turncoat:regular"/>

	

	

	

	

	
	<meta name="keywords" content="machinae"/>
	

	<meta name="description" content="The personal website and blog of Russell Harmon"/>

	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script>
	<script type="text/javascript" src="https://raw.github.com/gabrielfalcao/jquery-yql/master/jquery.yql.js"></script>
	<script type="text/javascript" src="https://raw.github.com/rmm5t/jquery-timeago/master/jquery.timeago.js"></script>

	
	
</head>
<body id="">
	<div id="site">
		<div id="header">
	<h1>
		<span class="nav">
			<a href="/machinae" title="A programming blog">Machinae Elegantiam</a>
			<span class="byline">← <a href="/">Russell Harmon</a></span>
		</span>
	</h1>
</div>
<div id="page"><p>So just to see if I could, I wrote a version of cat using pure bash. Pure bash is a bash script which uses nothing but bash builtins to accomplish it&#8217;s goal. To determine if a particular command is a builtin, you can use the command type -t &#8220;command&#8221; (the command type, is itself a builtin). Some notable commands which are builtins include echo, read, exec, return. Some notable commands which are not builtins include cat and grep. As follows is my implementation of cat in pure bash.</p>

<p>Now, keep reading if you want a small lesson in advanced bash. I&#8217;ll go line by line to explain what this is doing.</p>

<p>Line 1 is the <a href='http://en.wikipedia.org/wiki/Shebang_%28Unix%29'>shebang</a></p>

<p>Line 2 assigns the array variable INPUTS either the arguments provided on the command line if they exist, or the single character <code>-</code>. The way this happens is as follows: <code>$@</code> is the variable to reference the <em>positional parameters</em> (the arguments to your program). If you have not heard of <code>$*</code>, read <a href='http://bash-hackers.org/wiki/doku.php/scripting/posparams#mass_usage'>this</a>. The way I reference the positional parameters is like <code>${@}</code>. That&#8217;s because the brackets allow me to add a <em>default value</em> to the variable. A <em>default value</em> is the value that the variable will seem to have if the variable is not set. The way to use a <em>default value</em> is with the <code>:-</code>, like so: <code>${@:-&quot;hello&quot;}</code>. So if <code>$@</code> is not set, it will seem to have the value <code>&quot;hello&quot;</code>. You will then notice that is all enclosed in <code>()</code>. That makes an array out of the <em>positional parameters</em> (the first argument to the program becomes the first element in the array, the second argument becomes the second element, etc.).</p>

<p>Line 3 begins a <code>for</code> loop which will assign to <code>i</code> each value stored in the array <code>INPUTS</code> which was discussed earlier. The <code>@</code> index used is the same for arrays as <code>$@</code> is for the <em>positional parameters</em>.</p>

<p>Maybe I&#8217;ll explain more when I&#8217;m less lazy.</p></div>

<!-- Disqus comment engine -->
<div id="disqus">
	<div id="disqus_thread"></div>
	<script type="text/javascript">
		var disqus_shortname = 'eatnumber1';
		
		var disqus_identifier = '/blog/2009-05-28/pure-bash-cat';
		
		

		(function() {
			var dsq = document.createElement('script');
			dsq.type = 'text/javascript'; dsq.async = true;
			dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] ||
			 document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
	<noscript>
		Please enable JavaScript to view the
		<a href="http://disqus.com/?ref_noscript">
			comments powered by Disqus.
		</a>
	</noscript>
	<a href="http://disqus.com" class="dsq-brlink">
		blog comments powered by
		<span class="logo-disqus">Disqus</span>
	</a>
</div>







		<div id="footer">
			<address>
				<span class="copyright">
					Content by <a rel="author" href="/">Russell Harmon</a>.
					Design by <a href="http://mark.reid.name/info/site.html">Mark Reid</a>
					<br/>
					(<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Some rights reserved</a>)
				</span>
				<span class="engine">
					Powered by <a href="http://jekyllrb.com/" title="A static, minimalist CMS">Jekyll</a>.
					Hosted by <a href="http://pages.github.com/">GitHub</a>.
				</span>
			<address>
		</div>
	</div>

	
	<!-- Google Analytics -->
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-10349264-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
	
</body>
</html>


