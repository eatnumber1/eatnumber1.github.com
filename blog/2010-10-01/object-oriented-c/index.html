<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>Object Oriented C ← Machinae Elegantiam</title><meta name="author" content="Russell Harmon"/><link rel="stylesheet" href="/css/reset.css" type="text/css"/><link rel="stylesheet" href="/css/screen.css" type="text/css"/><link rel="stylesheet" href="/css/960.css" type="text/css"/><link rel="stylesheet" href="/css/syntax.css" type="text/css"/><link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Walter+Turncoat:regular"/><meta name="keywords" content="machinae"/><meta name="description" content="The personal website and blog of Russell Harmon"/><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script><script src="https://raw.github.com/gabrielfalcao/jquery-yql/master/jquery.yql.js"></script><script src="https://raw.github.com/rmm5t/jquery-timeago/master/jquery.timeago.js"></script></head><body id=""><div id="site"><div id="header"><h1> <span class="nav"> <a href="/machinae" title="A programming blog">Machinae Elegantiam</a> <span class="byline">← <a href="/">Russell Harmon</a></span> </span></h1></div><div id="page"><p>So, thanks to <a href='http://thirdcog.eu/pwcblocks/'>blocks</a>, Apple’s new extension to C, you can now do basic object-orientation. Have a look over at <a href='http://gist.github.com/605457'>GitHub</a> for a short example on how to do it.</p><p>To break it down, an object is a struct, which contains both fields and <a href='http://thirdcog.eu/pwcblocks/'>blocks</a> which act as the object’s methods.</p><div class='highlight'><pre><code class='c'><span class='k'>typedef</span> <span class='k'>struct</span> <span class='p'>{</span>
	<span class='n'>Object</span> <span class='n'>super</span><span class='p'>;</span>
	<span class='kt'>char</span> <span class='o'>*</span><span class='n'>_value</span><span class='p'>;</span>
	<span class='k'>const</span> <span class='kt'>char</span> <span class='o'>*</span><span class='p'>(</span><span class='o'>^</span><span class='n'>getValue</span><span class='p'>)();</span>
	<span class='kt'>void</span> <span class='p'>(</span><span class='o'>^</span><span class='n'>setValue</span><span class='p'>)(</span> <span class='k'>const</span> <span class='kt'>char</span> <span class='o'>*</span> <span class='p'>);</span>
<span class='p'>}</span> <span class='n'>String</span><span class='p'>;</span>
</code></pre>
</div><p>This creates a <code>String</code> object which inherits from <code>Object</code> and has a field <code>_value</code>, and methods <code>getValue</code> and <code>setValue</code>.</p><p>More to come… <em>maybe</em>.</p></div><div id="disqus"><div id="disqus_thread"></div><script>var disqus_shortname="eatnumber1",disqus_identifier="/blog/2010-10-01/object-oriented-c";(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="http://"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript> Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript"> comments powered by Disqus. </a> </noscript> <a href="http://disqus.com" class="dsq-brlink"> blog comments powered by <span class="logo-disqus">Disqus</span> </a></div><div id="footer"> <address> <span class="copyright"> Content by <a rel="author" href="/">Russell Harmon</a>. Design by <a href="http://mark.reid.name/info/site.html">Mark Reid</a> <br/> (<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Some rights reserved</a>) </span> <span class="engine"> Powered by <a href="http://jekyllrb.com/" title="A static, minimalist CMS">Jekyll</a>. Hosted by <a href="http://pages.github.com/">GitHub</a>. </span> <address></div></div> <script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-10349264-2"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>