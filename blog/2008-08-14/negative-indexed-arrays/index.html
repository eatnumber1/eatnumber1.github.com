<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title>Negative Indexed Arrays ← Machinae Elegantiam</title>
	<meta name="author" content="Russell Harmon"/>

	

	<link rel="stylesheet" href="/css/reset.css" type="text/css"/>
	<link rel="stylesheet" href="/css/screen.css" type="text/css"/>
	<link rel="stylesheet" href="/css/960.css" type="text/css"/>
	<link rel="stylesheet" href="/css/syntax.css" type="text/css"/>

	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Walter+Turncoat:regular"/>

	

	

	

	

	
	<meta name="keywords" content="machinae"/>
	

	<meta name="description" content="The personal website and blog of Russell Harmon"/>

	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script>
	<script type="text/javascript" src="https://raw.github.com/gabrielfalcao/jquery-yql/master/jquery.yql.js"></script>
	<script type="text/javascript" src="https://raw.github.com/rmm5t/jquery-timeago/master/jquery.timeago.js"></script>

	
	
</head>
<body id="">
	<div id="site">
		<div id="header">
	<h1>
		<span class="nav">
			<a href="/machinae" title="A programming blog">Machinae Elegantiam</a>
			<span class="byline">← <a href="/">Russell Harmon</a></span>
		</span>
	</h1>
</div>
<div id="page"><p>In first describing how ridiculous C and C++ was to my class when I was in my first C++ programming course, I remember him saying that you can even create negative indexed arrays. Now that I am a bit wiser in the ways of C++ and memory management, I actually know how to do it!</p>

<p>The following small C++ program illustrates:</p>

<p>When executed, it gives us this:</p>

<p>The reason this happens is that since arrays in C and C++ are linear in memory, you can do math on them (the <code>++array</code> and <code>--array</code>).</p>

<p>So if the array looks like this:</p>

<pre><code> 0xFADC  0xFADD  &lt;-- This is the address
-----------------
| Hello | World |
-----------------</code></pre>

<p>If you printed your array (without an index), you would see <code>0xFADC</code>; the address of the first element. Therefore if you add one to that, your array&#8217;s element <code>0</code> would point at memory address <code>0xFADD</code>, and it&#8217;s element <code>-1</code> would point at memory address <code>0xFADC</code>.</p>

<p><em>Remember</em>, don&#8217;t try to <code>delete</code> an array like this before restoring it to the way it originally was or you will get a segfault.</p>

<p>A shorter way of doing it that doesn&#8217;t involve using <code>new</code> is:</p>

<p>A probably more readable way to do it in C is as follows:</p></div>

<!-- Disqus comment engine -->
<div id="disqus">
	<div id="disqus_thread"></div>
	<script type="text/javascript">
		var disqus_shortname = 'eatnumber1';
		
		var disqus_identifier = '/blog/2008-08-14/negative-indexed-arrays';
		
		

		(function() {
			var dsq = document.createElement('script');
			dsq.type = 'text/javascript'; dsq.async = true;
			dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
			(document.getElementsByTagName('head')[0] ||
			 document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
	</script>
	<noscript>
		Please enable JavaScript to view the
		<a href="http://disqus.com/?ref_noscript">
			comments powered by Disqus.
		</a>
	</noscript>
	<a href="http://disqus.com" class="dsq-brlink">
		blog comments powered by
		<span class="logo-disqus">Disqus</span>
	</a>
</div>







		<div id="footer">
			<address>
				<span class="copyright">
					Content by <a rel="author" href="/">Russell Harmon</a>.
					Design by <a href="http://mark.reid.name/info/site.html">Mark Reid</a>
					<br/>
					(<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Some rights reserved</a>)
				</span>
				<span class="engine">
					Powered by <a href="http://jekyllrb.com/" title="A static, minimalist CMS">Jekyll</a>.
					Hosted by <a href="http://pages.github.com/">GitHub</a>.
				</span>
			<address>
		</div>
	</div>

	
	<!-- Google Analytics -->
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-10349264-2']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>
	
</body>
</html>


